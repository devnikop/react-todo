(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{33:function(e,n,t){e.exports=t(45)},45:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(20),i=t.n(r),c=t(14);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=t(2),d=t(3),l="#ebecf0",s="#9daae0",f="#d3daf5",p="#93d67c",b="rgba(9, 30, 66, 0.25)",m="#ffffff",E="#f2d600",g="#eb5a46";function O(){var e=Object(u.a)(["\n  body {\n    margin: 0;\n\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n\n    background-color: ",";\n  }\n\n  a {\n    text-decoration: none;\n  }\n\n  .visually-hidden {\n    position: absolute;\n    height: 1px;\n    width: 1px;\n    overflow: hidden;\n    clip: rect(1px, 1px, 1px, 1px);\n    white-space: nowrap; /* added line */\n  }\n"]);return O=function(){return e},e}var k,v=Object(d.a)(O(),p),h=t(21),j=t(7),D=t(19),x=t(10),y=t(11),w=t.n(y),M=function(e){return w()(e,"D MMM").isBefore(w()())?g:w()(e,"D MMM").isBefore(w()().add(3,"d"))?E:m},T=function(){return w()().add(Math.round(7*Math.random()),"d").subtract(2,"d").format("D MMM")};!function(e){e.DOING="DOING",e.DONE="DONE",e.TODO="TODO"}(k||(k={}));var N={tasks:[{id:Object(x.a)(),deadline:T(),description:"This is todo task description",group:k.TODO,title:"Todo task header"},{id:Object(x.a)(),deadline:T(),description:"This is todo task description",group:k.TODO,title:"Todo task 2 header"},{id:Object(x.a)(),deadline:T(),description:"This is todo task description",group:k.TODO,title:"Todo task 3 header"},{id:Object(x.a)(),deadline:T(),description:"This is todo task description",group:k.TODO,title:"Todo task 4 header"},{id:Object(x.a)(),deadline:T(),description:"This is todo task description",group:k.DOING,title:"Doing task header"},{id:Object(x.a)(),deadline:T(),description:"This is todo task description",group:k.DOING,title:"Doing task2 header"},{id:Object(x.a)(),deadline:T(),description:"This is todo task description",group:k.DOING,title:"Doing task 3 header"},{id:Object(x.a)(),deadline:T(),description:"This is todo task description",group:k.DONE,title:"Done task header"},{id:Object(x.a)(),deadline:T(),description:"This is todo task description",group:k.DONE,title:"Done task 2 header"},{id:Object(x.a)(),deadline:T(),description:"This is todo task description",group:k.DONE,title:"Done task 3 header"}]},C=Object(h.b)({name:"tasks",initialState:N,reducers:{addTask:function(e,n){return Object(D.a)(Object(D.a)({},e),{},{tasks:e.tasks.concat(n.payload)})},deleteTask:function(e,n){return Object(D.a)(Object(D.a)({},e),{},{tasks:e.tasks.filter((function(e){return e.id!==n.payload}))})},updateTitle:function(e,n){var t=n.payload,a=t.id,o=t.title,r=e.tasks.findIndex((function(e){return e.id===a}));e.tasks[r].title=o},updateDate:function(e,n){var t=n.payload,a=t.id,o=t.date,r=e.tasks.findIndex((function(e){return e.id===a}));e.tasks[r].deadline=o},updateDescription:function(e,n){var t=n.payload,a=t.id,o=t.description,r=e.tasks.findIndex((function(e){return e.id===a}));e.tasks[r].description=o},updateGroup:function(e,n){var t=n.payload,a=t.id,o=t.group,r=e.tasks.findIndex((function(e){return e.id===a}));e.tasks[r].group=o}}}),I=Object(j.c)({taskReducer:C.reducer}),S=Object(h.a)({reducer:I}),Y=t(4),B=t(18);function F(){var e=Object(u.a)(["\n  ul {\n    ","\n\n    display: flex;\n    flex-wrap: wrap;\n    width: fit-content;\n  }\n\n  li {\n    flex-shrink: 0;\n  }\n"]);return F=function(){return e},e}function G(){var e=Object(u.a)(["\n  display: block;\n  padding: 5px 10px;\n\n  font-size: 20px;\n  font-weight: bold;\n  color: inherit;\n  background-color: ",";\n\n  transition: background-color 200ms;\n\n  &:hover,\n  &:focus {\n    background-color: ",";\n    cursor: pointer;\n  }\n\n  &:active {\n    filter: opacity(70%);\n  }\n\n  &.active {\n    background-color: ",";\n    pointer-events: none;\n    box-shadow: inset 0 1px 0 ",";\n\n    &:focus {\n      background-color: ",";\n    }\n  }\n"]);return G=function(){return e},e}var V=Object(d.b)(B.b)(G(),f,l,s,b,s),z=Object(d.b)((function(e){var n=e.className;return o.a.createElement("section",{className:n},o.a.createElement("h2",{className:"visually-hidden"},"Task groups"),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(V,{to:"/todo"},"To do")),o.a.createElement("li",null,o.a.createElement(V,{to:"/doing"},"Doing")),o.a.createElement("li",null,o.a.createElement(V,{to:"/done"},"Done"))))}))(F(),"\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"),L=t(12);function A(){var e=Object(u.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  gap: 5%;\n  justify-content: space-between;\n  padding: 10px;\n\n  background-color: ",";\n  border-radius: 3px;\n  box-shadow: 0 1px 0 ",";\n\n  cursor: pointer;\n\n  h3 {\n    margin: 0;\n\n    overflow-wrap: anywhere;\n  }\n"]);return A=function(){return e},e}var R=Object(d.b)((function(e){var n=e.className,t=e.deadline,a=e.title,r=e.onClick;return o.a.createElement("section",{className:n,onClick:r},o.a.createElement("h3",null,a),o.a.createElement("time",{dateTime:w()(t,"D MMM").format("YYYY-M-D")},t))}))(A(),(function(e){var n=e.deadline;return M(n)}),b),J=function(e){var n=e.isEdit,t=e.setIsEdit,o=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e,n=function(e){"Escape"===e.code&&t(!1)};return null===(e=o.current)||void 0===e||e.focus(),document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}),[n,t]),o};function K(){var e=Object(u.a)(["\n  background: none;\n  border: none;\n  appearance: none;\n\n  &::-webkit-calendar-picker-indicator {\n    display: none;\n  }\n"]);return K=function(){return e},e}function U(){var e=Object(u.a)([""]);return U=function(){return e},e}var W=d.b.input.attrs((function(){return{type:"date"}}))(U()),H=d.b.input.attrs((function(){return{type:"date"}}))(K()),$=function(e){var n=e.value,t=e.isEdit,a=e.setIsEdit,r=e.onValueChange,i=J({isEdit:t,setIsEdit:a});return o.a.createElement(o.a.Fragment,null,t?o.a.createElement(W,{ref:i,value:w()(n,"D MMM").format("YYYY-MM-DD"),onBlur:function(){a(!1)},onChange:function(e){r(w()(e.target.value,"YYYY-MM-DD").format("D MMM"))}}):o.a.createElement(H,{defaultValue:w()(n,"D MMM").format("YYYY-MM-DD"),onClick:function(){a(!0)},onFocus:function(){a(!0)}}))};function q(){var e=Object(u.a)(["\n  ","\n  ","\n"]);return q=function(){return e},e}function P(){var e=Object(u.a)(["\n  ","\n"]);return P=function(){return e},e}var Q=d.b.input(P(),"\n  font-size: 20px;\n  font-weight: 600;\n"),X=d.b.input(q(),"\n  padding: 0;\n\n  border: none;\n  background: none;\n","\n  font-size: 20px;\n  font-weight: 600;\n"),Z=function(e){var n=e.value,t=e.isEdit,a=e.setIsEdit,r=e.onValueChange,i=J({isEdit:t,setIsEdit:a});return o.a.createElement(o.a.Fragment,null,t?o.a.createElement(Q,{ref:i,value:n,onBlur:function(){a(!1)},onChange:function(e){r(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&a(!1)}}):o.a.createElement(X,{defaultValue:n,placeholder:"Add task title",onClick:function(){a(!0)},onFocus:function(){a(!0)}}))};function _(){var e=Object(u.a)(["\n  ","\n"]);return _=function(){return e},e}function ee(){var e=Object(u.a)(["\n  resize: vertical;\n"]);return ee=function(){return e},e}var ne=d.b.textarea(ee()),te=d.b.textarea(_(),"\n  padding: 0;\n\n  border: none;\n  background: none;\n\n  resize: none;\n"),ae=function(e){var n=e.value,t=e.isEdit,r=e.setIsEdit,i=e.onValueChange,c=function(e){var n=e.isEdit,t=e.setIsEdit,o=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e,n=function(e){"Escape"===e.code&&t(!1)};return null===(e=o.current)||void 0===e||e.focus(),document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}),[n,t]),o}({isEdit:t,setIsEdit:r});return o.a.createElement(o.a.Fragment,null,t?o.a.createElement(ne,{ref:c,value:n,placeholder:"Add a more detailed description...",onBlur:function(){r(!1)},onChange:function(e){i(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&r(!1)}}):o.a.createElement(te,{defaultValue:n,placeholder:"Add a more detailed description...",onClick:function(){r(!0)},onFocus:function(){r(!0)}}))};function oe(){var e=Object(u.a)(["\n  display: grid;\n  gap: 10px;\n  padding: 10px;\n\n  background-color: ",";\n  border-radius: 3px;\n  box-shadow: 0 1px 0 ",";\n"]);return oe=function(){return e},e}var re=Object(d.b)((function(e){var n=e.className,t=e.task,r=e.onDeleteClick,i=e.onLeaveClick,u=t.deadline,d=t.description,l=t.group,s=t.id,f=t.title,p=Object(c.c)(),b=Object(a.useState)(u),m=Object(L.a)(b,2),E=m[0],g=m[1],O=Object(a.useState)(!E),v=Object(L.a)(O,2),h=v[0],j=v[1],D=Object(a.useState)(d),x=Object(L.a)(D,2),y=x[0],w=x[1],M=Object(a.useState)(!y),T=Object(L.a)(M,2),N=T[0],I=T[1],S=Object(a.useState)(f),Y=Object(L.a)(S,2),B=Y[0],F=Y[1],G=Object(a.useState)(!B),V=Object(L.a)(G,2),z=V[0],A=V[1];Object(a.useEffect)((function(){!z&&p(C.actions.updateTitle({id:s,title:B}))}),[z]),Object(a.useEffect)((function(){!h&&p(C.actions.updateDate({id:s,date:E}))}),[h]),Object(a.useEffect)((function(){!N&&p(C.actions.updateDescription({id:s,description:y}))}),[N]);return o.a.createElement("section",{className:n},o.a.createElement(Z,{value:B,isEdit:z,setIsEdit:A,onValueChange:function(e){F(e)}}),o.a.createElement($,{value:E,isEdit:h,setIsEdit:j,onValueChange:function(e){g(e)}}),o.a.createElement(ae,{value:y,isEdit:N,setIsEdit:I,onValueChange:function(e){w(e)}}),o.a.createElement("label",null,o.a.createElement("span",null,"Move to "),o.a.createElement("select",{value:l,onChange:function(e){var n=e.target.value;p(C.actions.updateGroup({id:s,group:n}))}},o.a.createElement("option",{value:k.TODO},"To do"),o.a.createElement("option",{value:k.DONE},"Done"),o.a.createElement("option",{value:k.DOING},"Doing"))),o.a.createElement("button",{type:"button",onClick:i},"Leave Edit mode"),o.a.createElement("button",{type:"button",onClick:r},"Delete task"))}))(oe(),(function(e){var n=e.task;return M(n.deadline)}),b),ie=function(e){var n=e.task,t=Object(c.c)(),r=Object(a.useState)(!1),i=Object(L.a)(r,2),u=i[0],d=i[1];return u?o.a.createElement(re,{task:n,onDeleteClick:function(){t(C.actions.deleteTask(n.id))},onLeaveClick:function(){d(!1)}}):o.a.createElement(R,{deadline:n.deadline,title:n.title,onClick:function(){d(!0)}})};function ce(){var e=Object(u.a)(["\n  ","\n\n  display: grid;\n  gap: 20px;\n  margin-bottom: 20px;\n"]);return ce=function(){return e},e}var ue=Object(d.b)((function(e){var n=e.className,t=e.tasks;return o.a.createElement("ul",{className:n},t.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(ie,{task:e}))})))}))(ce(),"\n  margin: 0;\n  padding: 0;\n  list-style: none;\n");function de(){var e=Object(u.a)(["\n  ","\n"]);return de=function(){return e},e}var le=d.b.input(de(),"\n  font-size: 20px;\n  font-weight: 600;\n"),se=function(e){var n=e.group,t=Object(c.c)(),r=Object(a.useState)(!1),i=Object(L.a)(r,2),u=i[0],d=i[1],l=Object(a.useState)(""),s=Object(L.a)(l,2),f=s[0],p=s[1],b=J({isEdit:u,setIsEdit:d}),m=function(){t(C.actions.addTask({id:Object(x.a)(),deadline:T(),description:"",group:n,title:f})),p("")};return u?o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),f&&m()}},o.a.createElement(le,{ref:b,value:f,placeholder:"Add task title",onBlur:function(){d(!1),f&&m()},onChange:function(e){p(e.target.value)}})):o.a.createElement("button",{type:"button",onClick:function(){d(!0)}},"Add another task")},fe=t(5),pe=function(e){return e.taskReducer.tasks},be=Object(fe.a)((function(e){return pe(e)}),(function(e){return e.filter((function(e){return e.group===k.DOING}))})),me=Object(fe.a)((function(e){return pe(e)}),(function(e){return e.filter((function(e){return e.group===k.DONE}))})),Ee=Object(fe.a)((function(e){return pe(e)}),(function(e){return e.filter((function(e){return e.group===k.TODO}))}));function ge(){var e=Object(u.a)(["\n  min-width: 320px;\n  max-width: 400px;\n\n  padding: 25px 15px;\n  box-sizing: border-box;\n\n  background-color: ",";\n  border-radius: 0 0 5px 5px;\n"]);return ge=function(){return e},e}var Oe=new Map([["doing",be],["done",me],["todo",Ee]]),ke=Object(d.b)((function(e){var n=e.className,t=e.type,a=Object(c.d)(function(e){return Oe.get(e)||Ee}(t),c.b);return o.a.createElement("section",{className:n},o.a.createElement("h2",{className:"visually-hidden"},t," group"),a.length?o.a.createElement(ue,{tasks:a}):"",o.a.createElement(se,{group:a[0].group}))}))(ge(),l),ve=function(e){var n=e.className;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Task manager"),o.a.createElement("main",{className:n},o.a.createElement(z,null),o.a.createElement(Y.d,null,o.a.createElement(Y.b,{path:"/todo"},o.a.createElement(ke,{type:"todo"})),o.a.createElement(Y.b,{path:"/doing"},o.a.createElement(ke,{type:"doing"})),o.a.createElement(Y.b,{path:"/done"},o.a.createElement(ke,{type:"done"})),o.a.createElement(Y.b,{path:"/"},o.a.createElement(Y.a,{to:"/todo"})))))};i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(v,null),o.a.createElement(c.a,{store:S},o.a.createElement(B.a,null,o.a.createElement(ve,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.9d58a29b.chunk.js.map